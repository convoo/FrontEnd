<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-request.html">




<dom-module id="convoo-create-page">
  <template>
    <style>
      :host {
  
            opacity: 1;
            width: 100%;
            justify-content: center;         
      }
      
      
          paper-input {
        --paper-input-container-color: #d4d4d4;
        --paper-input-container-focus-color: #32b07c;
        --paper-input-container-invalid-color: #e84a5f;
        --paper-input-container-input-color: #d4d4d4;
        
        --paper-input-container-label:#e84a5f;
        --paper-input-container-label-focus:#e84a5f;
    }
    
    paper-toggle-button{
        
        --paper-toggle-button-checked-bar-color: #e0dfdf;
        --paper-toggle-button-checked-button-color: #e0dfdf;
        --paper-toggle-button-checked-ink-color: #e0dfdf;
        
        --paper-toggle-button-unchecked-bar-color: #63846a;
        --paper-toggle-button-unchecked-button-color: #32b07c;
        --paper-toggle-button-unchecked-ink-color: #e0dfdf;
        
        --paper-toggle-button-unchecked-bar: #63846a;
        --paper-toggle-button-unchecked-button: #32b07c;
        
        --paper-toggle-button-checked-bar: #63846a;
        --paper-toggle-button-checked-button: #000000;
        
        --paper-toggle-button-label-color: #e0dfdf;
        --paper-toggle-button-label-spacing: #000000;
    }
    
    paper-fab{
        --paper-fab-background:#32b07c

    }
    


.create{
    padding-left: 30px;
    padding-right: 30px;
    padding-top: 16px;
    padding-bottom: 16px;
    border-radius: 2px;
    color: #d4d4d4;
    background-color: #3a474c;
    border-radius: 2px;
    max-width: 700px;
    margin: auto;

}

.toggle{
    padding-left: 1em;
}

h2{
    padding-bottom: 1.1em;
}

.borders{
    padding-left: 1.7em;
    padding-right: 6em;
}

  @media (max-width: 600px) {
 .borders{
    padding-left: 0.1em;
    padding-right: 0.1em;
}     
      
  }
.checkContainer{
    display: flex;
  justify-content: center;
  height: 6em
}
.checkBtn{
    align-self: flex-end;
}      
paper-input{
    padding-top: 1em
}

.previewBox{
    width:200px;
    height: 220px;
}

.previewText{
    font-size: 0.85em;
    color: #d4d4d4;
    line-height: 1.4em;
    position: relative;
    top: -8px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;  
    overflow: hidden;
}
#canJoin{
    cursor: hand;
    cursor: pointer;
}

</style>

  <content></content>
<paper-material elevation="3" class="create">
    <escape-back></escape-back>
    <div class="borders">
        <h2>What would you like to talk about today?</h2>
        <paper-toggle-button id="canJoin" class="canJoin"><span class="toggle"> {{joinMsg}} can join</span></paper-toggle-button>
        <paper-input label="Share a website you have found" id="webSite" pattern="^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$"></paper-input>
        <paper-input label="Title" char-counter maxlength="60" id="title" value="{{title}}"></paper-input>
        <paper-input label="Description"></paper-input>
        <paper-input label="Tag it"></paper-input>
        <convoo-tag background="dark">Cat Fish</convoo-tag>
    </div>
    <div class="checkContainer">
        <paper-fab icon="check" class="checkBtn"></paper-fab>
    </div>
    <div class="borders">
        <h3>Preview</h3>
        <div class="previewBox">
        <image-resize width="196" height="110" background="dark" addtext="upload an mage" removetext="delete"></image-resize>
        <p class="previewText">{{title}}</p>
    </div>
    </div>
</paper-material>   


<iron-request id="fetch" response="{{response}}" status="{{status}}"></iron-request> 

          
           <div>========== {{response}} =============</div>
            <div>========== {{status}} =============</div>
             <div>========== {{statusText}} =============</div>
          
                 
  </template>
  
  

  
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'convoo-create-page',

      properties: {
         height: Number,
         background: String,
         joinMsg:{
             type:String,
             value:'Anyone'
         }
      },
            listeners: {
        'canJoin.change': 'canJoin',
        'webSite.keyup': 'getWebsite',
       },
      
       ready: function() {
           
             this.width = this.height*5;
           
          if(this.background =="light"){
              this.firstcolor="d1d3d4"; 
              this.secondcolor="ea4a5d";
          }
              if(this.background =="dark"){
              this.firstcolor="ffffff"; 
              this.secondcolor="ea4a5d";
          }
              if(this.background =="red"){
              this.firstcolor="000000"; 
              this.secondcolor="ffffff";
          }
          
     
        },
        canJoin: function(e) {
            var checked = this.$.canJoin.checked;
            if (checked === true){
                this.joinMsg = 'Only friends'
            } else {
                this.joinMsg = 'Anyone'
            }
      },
      getWebsite: function(e){
          var url = this.$.webSite.value;
          var urlType = this.$.webSite.validate();
        if(this.$.webSite.validate()){
            this.$.fetch.send({url: this.$.webSite.value});    
        }
          
    console.log(this.url);
    },
    fetchData: function(url){
        this.url = url
        
    }

    });
    
  })();
  </script>
</dom-module>












